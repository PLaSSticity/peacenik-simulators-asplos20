#!/bin/bash

g++ -DBIGARRAY_MULTIPLIER=1 -Wall -Werror -Wno-unknown-pragmas -fno-stack-protector -DTARGET_IA32E -DHOST_IA32E -fPIC -DTARGET_LINUX  -I$PIN_ROOT/source/include/pin -I$PIN_ROOT/source/include/pin/gen -I$PIN_ROOT/extras/components/include -I$PIN_ROOT/extras/xed-intel64/include -I$PIN_ROOT/source/tools/InstLib -O3 -fomit-frame-pointer -fno-strict-aliasing  -g -I$PIN_ROOT/source/tools/cctlib-master/boost_1_56_0-install/include/  -c -o obj-intel64/analysis_callbacks.o analysis_callbacks.cpp
g++ -DBIGARRAY_MULTIPLIER=1 -Wall -Werror -Wno-unknown-pragmas -fno-stack-protector -DTARGET_IA32E -DHOST_IA32E -fPIC -DTARGET_LINUX  -I$PIN_ROOT/source/include/pin -I$PIN_ROOT/source/include/pin/gen -I$PIN_ROOT/extras/components/include -I$PIN_ROOT/extras/xed-intel64/include -I$PIN_ROOT/source/tools/InstLib -O3 -fomit-frame-pointer -fno-strict-aliasing  -g -I$PIN_ROOT/source/tools/cctlib-master/boost_1_56_0-install/include/  -c -o obj-intel64/instr_callbacks.o instr_callbacks.cpp

g++ -g -std=c++11 -Wno-unused-result -Wno-unused-variable -Wno-unused-local-typedefs -DBIGARRAY_MULTIPLIER=1 -Wall -Werror -Wno-unknown-pragmas -fno-stack-protector -DTARGET_IA32E -DHOST_IA32E -fPIC -DTARGET_LINUX  -I$PIN_ROOT/source/include/pin -I$PIN_ROOT/source/include/pin/gen -I$PIN_ROOT/extras/components/include -I$PIN_ROOT/extras/xed-intel64/include -I/home/wfzrpku//intel-pintool/source/tools/cctlib-master/boost_1_56_0-install/include -I$PIN_ROOT/source/tools/InstLib -O3 -fomit-frame-pointer -fno-strict-aliasing  -g -I$PIN_ROOT/source/tools/cctlib-master/sparsehash-2.0.2-install//include -I$PIN_ROOT/source/tools/cctlib-master/boost_1_56_0-install//include  -I$PIN_ROOT/source/tools/cctlib-master/src/ -Wno-unused-but-set-variable   -c -o obj-intel64/viser.o viser.cpp

g++ -shared -Wl,--hash-style=sysv -Wl,-Bsymbolic -Wl,--version-script=$PIN_ROOT/source/include/pin/pintool.ver    -o obj-intel64/visersim.so obj-intel64/viser.o obj-intel64/analysis_callbacks.o obj-intel64/instr_callbacks.o -L$PIN_ROOT/source/tools/cctlib-master/src/obj-intel64/  -L$PIN_ROOT/intel64/lib -L$PIN_ROOT/intel64/lib-ext -L$PIN_ROOT/intel64/runtime/glibc -L$PIN_ROOT/extras/xed-intel64/lib  -lcctlib  -lpin -lxed -lpindwarf -ldl  -L$PIN_ROOT/source/tools/cctlib-master/boost_1_56_0-install//lib -Wl,-rpath $PIN_ROOT/source/tools/cctlib-master/boost_1_56_0-install//lib  -L$PIN_ROOT/source/tools/cctlib-master/libelf-0.8.9-install//lib -Wl,-rpath $PIN_ROOT/source/tools/cctlib-master/libelf-0.8.9-install//lib -lboost_filesystem  -lelf
